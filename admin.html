<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🔐 Administration - AfricaBonCoin</title>
    <link rel="stylesheet" href="admin-style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Ubuntu:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header Admin -->
    <header class="admin-header">
        <div class="container">
            <div class="admin-nav">
                <div class="admin-logo">
                    <h1>🔐 Administration AfricaBonCoin</h1>
                    <span class="admin-subtitle">Panel de modération</span>
                </div>
                <div class="admin-user">
                    <span class="admin-welcome">👋 Bienvenue, Administrateur</span>
                    <button class="btn-logout" onclick="deconnexionAdmin()">Déconnexion</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Dashboard Stats -->
    <section class="admin-dashboard">
        <div class="container">
            <h2>📊 Tableau de bord</h2>
            <div class="stats-grid">
                <div class="stat-card pending">
                    <div class="stat-icon">⏳</div>
                    <div class="stat-content">
                        <h3 id="pendingCount">12</h3>
                        <p>Annonces en attente</p>
                    </div>
                </div>
                <div class="stat-card approved">
                    <div class="stat-icon">✅</div>
                    <div class="stat-content">
                        <h3 id="approvedCount">1,247</h3>
                        <p>Annonces approuvées</p>
                    </div>
                </div>
                <div class="stat-card rejected">
                    <div class="stat-icon">❌</div>
                    <div class="stat-content">
                        <h3 id="rejectedCount">89</h3>
                        <p>Annonces rejetées</p>
                    </div>
                </div>
                <div class="stat-card users">
                    <div class="stat-icon">👥</div>
                    <div class="stat-content">
                        <h3 id="usersCount">25,431</h3>
                        <p>Utilisateurs actifs</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Filtres et Actions -->
    <section class="admin-filters">
        <div class="container">
            <div class="filters-bar">
                <div class="filter-group">
                    <label>Statut :</label>
                    <select id="statusFilter" onchange="filtrerAnnonces()">
                        <option value="all">Toutes les annonces</option>
                        <option value="pending" selected>En attente</option>
                        <option value="approved">Approuvées</option>
                        <option value="rejected">Rejetées</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Pays :</label>
                    <select id="countryFilter" onchange="filtrerAnnonces()">
                        <option value="all">Tous les pays</option>
                        <!-- Options générées par JavaScript -->
                    </select>
                </div>
                <div class="filter-group">
                    <label>Catégorie :</label>
                    <select id="categoryFilter" onchange="filtrerAnnonces()">
                        <option value="all">Toutes les catégories</option>
                        <option value="vehicules">🚗 Véhicules</option>
                        <option value="immobilier">🏠 Immobilier</option>
                        <option value="electronique">📱 Électronique</option>
                        <option value="mode">👗 Mode & Beauté</option>
                        <option value="maison">🛋️ Maison & Jardin</option>
                        <option value="emploi">💼 Emploi & Services</option>
                        <option value="agriculture">🌾 Agriculture</option>
                        <option value="artisanat">🎨 Artisanat Africain</option>
                    </select>
                </div>
                <div class="filter-group">
                    <input type="text" id="searchFilter" placeholder="Rechercher une annonce..." onkeyup="filtrerAnnonces()">
                </div>
            </div>
        </div>
    </section>

    <!-- Liste des annonces à modérer -->
    <section class="admin-listings">
        <div class="container">
            <div class="section-header">
                <h3 id="listingsTitle">⏳ Annonces en attente de modération</h3>
                <div class="bulk-actions">
                    <button class="btn-bulk btn-approve" onclick="approuverSelection()">✅ Approuver sélection</button>
                    <button class="btn-bulk btn-reject" onclick="rejeterSelection()">❌ Rejeter sélection</button>
                </div>
            </div>
            
            <div class="listings-table">
                <div class="table-header">
                    <div class="col-select">
                        <input type="checkbox" id="selectAll" onchange="toggleSelectAll()">
                    </div>
                    <div class="col-image">Image</div>
                    <div class="col-title">Titre</div>
                    <div class="col-price">Prix</div>
                    <div class="col-location">Localisation</div>
                    <div class="col-seller">Vendeur</div>
                    <div class="col-date">Date</div>
                    <div class="col-status">Statut</div>
                    <div class="col-actions">Actions</div>
                </div>
                
                <div id="listingsContainer">
                    <!-- Les annonces seront générées par JavaScript -->
                </div>
            </div>
        </div>
    </section>

    <!-- Modal de détail d'annonce -->
    <div id="detailModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>🔍 Détail de l'annonce</h3>
                <span class="close" onclick="fermerModal('detailModal')">&times;</span>
            </div>
            <div class="modal-body" id="detailContent">
                <!-- Contenu généré par JavaScript -->
            </div>
            <div class="modal-footer">
                <button class="btn-approve" onclick="approuverAnnonce()">✅ Approuver</button>
                <button class="btn-reject" onclick="rejeterAnnonce()">❌ Rejeter</button>
                <button class="btn-secondary" onclick="fermerModal('detailModal')">Fermer</button>
            </div>
        </div>
    </div>

    <!-- Modal de rejet avec motif -->
    <div id="rejectModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>❌ Motif de rejet</h3>
                <span class="close" onclick="fermerModal('rejectModal')">&times;</span>
            </div>
            <div class="modal-body">
                <label for="rejectReason">Sélectionnez le motif de rejet :</label>
                <select id="rejectReason" required>
                    <option value="">Choisir un motif</option>
                    <option value="contenu_inapproprie">Contenu inapproprié</option>
                    <option value="prix_incorrect">Prix incorrect ou suspect</option>
                    <option value="photos_manquantes">Photos manquantes ou de mauvaise qualité</option>
                    <option value="description_incomplete">Description incomplète</option>
                    <option value="produit_interdit">Produit interdit</option>
                    <option value="doublon">Annonce en doublon</option>
                    <option value="informations_fausses">Informations fausses ou trompeuses</option>
                    <option value="autre">Autre motif</option>
                </select>
                
                <label for="rejectComment">Commentaire additionnel (optionnel) :</label>
                <textarea id="rejectComment" placeholder="Précisez le motif si nécessaire..."></textarea>
            </div>
            <div class="modal-footer">
                <button class="btn-reject" onclick="confirmerRejet()">❌ Confirmer le rejet</button>
                <button class="btn-secondary" onclick="fermerModal('rejectModal')">Annuler</button>
            </div>
        </div>
    </div>

    <!-- Footer Admin -->
    <footer class="admin-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <p>&copy; 2024 AfricaBonCoin - Panel d'administration</p>
                    <p>Plateforme de modération pour les 54 pays africains</p>
                </div>
                <div class="footer-section">
                    <div class="admin-links">
                        <a href="index.html" target="_blank">🌍 Voir le site public</a>
                        <a href="#" onclick="exporterDonnees()">📊 Exporter les données</a>
                        <a href="#" onclick="afficherParametres()">⚙️ Paramètres</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="admin-script.js"></script>
</body>
</html>
